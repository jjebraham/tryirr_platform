{% extends "core/base.html" %}
{% load i18n %}

{% block content %}
<div class="mx-auto max-w-4xl lg:flex gap-8">
  <div class="w-full lg:w-1/3 mb-6 lg:mb-0">
    <ul id="wizard-steps" class="space-y-2">
      {% for s in steps %}
      <li class="flex items-center {% if forloop.counter == step %}font-semibold text-blue-600{% elif s.done %}text-green-600{% else %}text-gray-500{% endif %}">
        <span class="mr-2">
          {% if s.done %}âœ”{% else %}{{ forloop.counter }}{% endif %}
        </span>
        <span>{{ s.name }}</span>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="flex-1 bg-white p-6 rounded shadow">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      {{ form.as_p }}
      {% if step == 6 %}
        <p class="text-sm text-gray-600 mb-4">{{ deposit_instructions }}</p>
      {% endif %}
      <div class="mt-4 text-right">
        <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded">
          {% if step == 6 %}{% trans "Finish" %}{% else %}{% trans "Continue" %}{% endif %}
        </button>
      </div>
    </form>
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const items = document.querySelectorAll('#wizard-steps li');
  items.forEach((li, idx) => {
    if (idx + 1 === {{ step }}) {
      li.classList.add('font-bold');
    }
  });
});
</script>
{% endblock %}
